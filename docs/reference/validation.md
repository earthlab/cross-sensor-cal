# Validation Metrics

This page documents the validation metrics generated by cross-sensor-cal and recorded primarily in the QA JSON file. These metrics characterize reflectance quality, BRDF stability, harmonization accuracy, and mask distributions.

---

## Reflectance metrics

- **min/max/median** per band  
- **out-of-range counts** (>1.5 or <0)  
- **percent masked**  
- **per-band histograms** (in QA PNG/PDF)  

High out-of-range values may indicate issues in BRDF correction or DEM artifacts.

---

## Mask metrics

- cloud fraction  
- cloud-shadow fraction  
- snow fraction  
- water fraction  
- invalid/no-data fraction  

These metrics help identify flights with adverse conditions or sensor anomalies.

---

## BRDF metrics

- per-band BRDF model coefficients  
- reconstruction RMSE  
- flags for unstable or ill-conditioned fits  

These diagnostics help identify pixels or bands where geometric normalization may be unreliable.

---

## Convolution / harmonization metrics

- brightness adjustment coefficients  
- per-band regression statistics (if applicable)  
- spectral alignment differences  
- RMSE for harmonized vs. reference spectra  

These values help assess the quality of sensor harmonization.

---

## Geometry and ancillary metrics

- solar zenith / azimuth  
- view zenith / azimuth  
- DEM slope/aspect summaries  

These values allow interpretation of scene illumination conditions.

---

## Using metrics for quality control

Typical red flags:

- **Large brightness shifts** (>0.1 reflectance)  
- **High invalid fraction** (>20%)  
- **Poor BRDF fits** (RMSE > threshold for the site/sensor)  
- **Unusual wavelength alignment differences**  

These indicators suggest reviewing the flight line before using it in ecological analyses.

---

## Next steps

- [QA panels](../pipeline/qa.md)  
- [JSON schemas](schemas.md)
